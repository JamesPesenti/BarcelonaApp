{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useState } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { launchCameraAsync, useCameraPermissions, PermissionStatus } from \"expo-image-picker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nfunction ImagePicker() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      pickedImage = _useState2[0],\n      setPickedImage = _useState2[1];\n\n  var _useCameraPermissions = useCameraPermissions(),\n      _useCameraPermissions2 = _slicedToArray(_useCameraPermissions, 2),\n      cameraPermissionInformation = _useCameraPermissions2[0],\n      requestPermission = _useCameraPermissions2[1];\n\n  function verifyPermissions() {\n    var permissionResponse;\n    return _regeneratorRuntime.async(function verifyPermissions$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(cameraPermissionInformation.status === PermissionStatus.UNDETERMINED)) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(requestPermission());\n\n          case 3:\n            permissionResponse = _context.sent;\n            return _context.abrupt(\"return\", permissionResponse.granted);\n\n          case 5:\n            if (!(cameraPermissionInformation.status === PermissionStatus.DENIED)) {\n              _context.next = 8;\n              break;\n            }\n\n            Alert.alert(\"Access Denied\", \"Grant camera permissions\");\n            return _context.abrupt(\"return\", false);\n\n          case 8:\n            return _context.abrupt(\"return\", true);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function takeImageHandler() {\n    var hasPermission, image;\n    return _regeneratorRuntime.async(function takeImageHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(verifyPermissions());\n\n          case 2:\n            hasPermission = _context2.sent;\n\n            if (hasPermission) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 5:\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(launchCameraAsync({\n              allowsEditing: true,\n              aspect: [16, 9],\n              quality: 0.5\n            }));\n\n          case 7:\n            image = _context2.sent;\n            setPickedImage(image.uri);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var imagePreview = _jsx(Text, {\n    children: \"No image taken yet\"\n  });\n\n  if (pickedImage) {\n    imagePreview = _jsx(Image, {\n      source: {\n        uri: pickedImage\n      }\n    });\n  }\n\n  return _jsx(_Fragment, {\n    children: _jsxs(View, {\n      style: styles.imagePreview,\n      children: [_jsx(View, {\n        children: imagePreview\n      }), _jsx(Button, {\n        title: \"Take Image\",\n        onPress: takeImageHandler\n      })]\n    })\n  });\n}\n\nexport default ImagePicker;\nvar styles = StyleSheet.create({\n  imagePreview: {\n    width: \"100%\",\n    height: 200,\n    marginVertical: 8,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: Colors.primary500\n  }\n});","map":{"version":3,"names":["useState","launchCameraAsync","useCameraPermissions","PermissionStatus","ImagePicker","pickedImage","setPickedImage","cameraPermissionInformation","requestPermission","verifyPermissions","status","UNDETERMINED","permissionResponse","granted","DENIED","Alert","alert","takeImageHandler","hasPermission","allowsEditing","aspect","quality","image","uri","imagePreview","styles","StyleSheet","create","width","height","marginVertical","justifyContent","alignItems","backgroundColor","Colors","primary500"],"sources":["C:/Users/jimpe/Desktop/react_native_apps/BarcelonaApp/Components/Places/ImagePicker.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { Alert, Image, View, Text, Button, StyleSheet} from 'react-native'\r\nimport { launchCameraAsync, useCameraPermissions, PermissionStatus } from \"expo-image-picker\"\r\n\r\n\r\n\r\nfunction ImagePicker() {\r\n  const [pickedImage, setPickedImage] = useState()\r\n\r\n  const [cameraPermissionInformation, requestPermission] = useCameraPermissions()\r\n\r\n\r\n  async function verifyPermissions() {\r\n      if (cameraPermissionInformation.status === PermissionStatus.UNDETERMINED) {\r\n         const permissionResponse = await requestPermission()  \r\n\r\n         return permissionResponse.granted \r\n      }\r\n\r\n      if (cameraPermissionInformation.status === PermissionStatus.DENIED) {\r\n          Alert.alert(\"Access Denied\", \"Grant camera permissions\")\r\n          return false\r\n      }\r\n      return true\r\n  } \r\n\r\n  async function takeImageHandler() {\r\n      const hasPermission = await verifyPermissions()\r\n\r\n      if (!hasPermission) {\r\n          return\r\n      }\r\n\r\n      const image = await launchCameraAsync({\r\n          allowsEditing: true,\r\n          aspect: [16, 9],\r\n          quality: 0.5,\r\n      })\r\n      setPickedImage(image.uri)\r\n    }\r\n\r\n    let imagePreview = <Text>No image taken yet</Text>\r\n\r\n    if (pickedImage) {\r\n        imagePreview =  <Image source={{uri: pickedImage}} />\r\n    }\r\n\r\n  return (\r\n  <>\r\n    <View style={styles.imagePreview}>\r\n        <View >{imagePreview}</View>\r\n        <Button title=\"Take Image\" onPress={takeImageHandler} />\r\n    </View>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default ImagePicker\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    imagePreview: {\r\n        width: \"100%\",\r\n        height: 200,\r\n        marginVertical: 8,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: Colors.primary500\r\n    },\r\n\r\n})"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;;;;;;;AAEA,SAASC,iBAAT,EAA4BC,oBAA5B,EAAkDC,gBAAlD,QAA0E,mBAA1E;;;;;AAIA,SAASC,WAAT,GAAuB;EACrB,gBAAsCJ,QAAQ,EAA9C;EAAA;EAAA,IAAOK,WAAP;EAAA,IAAoBC,cAApB;;EAEA,4BAAyDJ,oBAAoB,EAA7E;EAAA;EAAA,IAAOK,2BAAP;EAAA,IAAoCC,iBAApC;;EAGA,SAAeC,iBAAf;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA,MACQF,2BAA2B,CAACG,MAA5B,KAAuCP,gBAAgB,CAACQ,YADhE;cAAA;cAAA;YAAA;;YAAA;YAAA,iCAEwCH,iBAAiB,EAFzD;;UAAA;YAEaI,kBAFb;YAAA,iCAIcA,kBAAkB,CAACC,OAJjC;;UAAA;YAAA,MAOQN,2BAA2B,CAACG,MAA5B,KAAuCP,gBAAgB,CAACW,MAPhE;cAAA;cAAA;YAAA;;YAQQC,KAAK,CAACC,KAAN,CAAY,eAAZ,EAA6B,0BAA7B;YARR,iCASe,KATf;;UAAA;YAAA,iCAWW,IAXX;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA;;EAcA,SAAeC,gBAAf;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACgCR,iBAAiB,EADjD;;UAAA;YACUS,aADV;;YAAA,IAGSA,aAHT;cAAA;cAAA;YAAA;;YAAA;;UAAA;YAAA;YAAA,iCAOwBjB,iBAAiB,CAAC;cAClCkB,aAAa,EAAE,IADmB;cAElCC,MAAM,EAAE,CAAC,EAAD,EAAK,CAAL,CAF0B;cAGlCC,OAAO,EAAE;YAHyB,CAAD,CAPzC;;UAAA;YAOUC,KAPV;YAYIhB,cAAc,CAACgB,KAAK,CAACC,GAAP,CAAd;;UAZJ;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA;;EAeE,IAAIC,YAAY,GAAG,KAAC,IAAD;IAAA;EAAA,EAAnB;;EAEA,IAAInB,WAAJ,EAAiB;IACbmB,YAAY,GAAI,KAAC,KAAD;MAAO,MAAM,EAAE;QAACD,GAAG,EAAElB;MAAN;IAAf,EAAhB;EACH;;EAEH,OACA;IAAA,UACE,MAAC,IAAD;MAAM,KAAK,EAAEoB,MAAM,CAACD,YAApB;MAAA,WACI,KAAC,IAAD;QAAA,UAAQA;MAAR,EADJ,EAEI,KAAC,MAAD;QAAQ,KAAK,EAAC,YAAd;QAA2B,OAAO,EAAEP;MAApC,EAFJ;IAAA;EADF,EADA;AAQD;;AAED,eAAeb,WAAf;AAGA,IAAMqB,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;EAC7BH,YAAY,EAAE;IACVI,KAAK,EAAE,MADG;IAEVC,MAAM,EAAE,GAFE;IAGVC,cAAc,EAAE,CAHN;IAIVC,cAAc,EAAE,QAJN;IAKVC,UAAU,EAAE,QALF;IAMVC,eAAe,EAAEC,MAAM,CAACC;EANd;AADe,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}